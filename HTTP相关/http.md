## HTTPS

- 含义
    - 是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。
- HTTP与HTTPS的区别
    - HTTP协议传输的数据都是未加密的，也就是明文的，因此使用HTTP协议传输隐私信息非常不安全，为了保证这些隐私数据能加密传输，于是网景公司设计了SSL（Secure Sockets Layer）协议用于对HTTP协议传输的数据进行加密，从而就诞生了HTTPS。简单来说，HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。
    - HTTPS和HTTP的区别主要如下：      
        - HTTPS协议需要到CA申请证书，一般免费证书较少，因而需要一定费用。
        - HTTP是超文本传输协议，信息是明文传输，HTTPS则是具有安全性的SSL加密传输协议。
        - HTTP和HTTPS使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。
        - HTTP的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比HTTP协议安全。
- HTTPS的通讯步骤
- ![HTTPS通讯步骤](../img/HTTPS通讯步骤.png)
    - `步骤1：`客户端通过发送Client Hello报文开始SSL通信。报文中包含客户端支持的SSL的指定版本，加密组件（Cipher Suite）列表（所使用的加密算法及秘钥长度等）。
    - `步骤2：`服务器可进行SSL通信时，会以Server Hello报文作为应答。和客户端一样，在报文中包含SSL版本以及加密组件。服务器的加密组件内容是从接收到的客户端加密组件内筛选出来的。
    - `步骤3：`之后服务器发送Certificate报文。报文中包含公开秘钥证书。
    - `步骤4：`最后服务器发送Server Hello Done报文通知客户端，最初阶段的SSL握手协商部分结束。
    - `步骤5：`SSL第一次握手结束之后，客户端已Client Key Exchange报文作为回应。报文中包含通信加密中使用的一种被称为Pre-master secret的随机密码串。该报文已用步骤3中的公开秘钥进行加密。
    - `步骤6：`接着客户端继续发送Change Cipher Spec报文。该报文会提示服务器，在此报文之后的通信会采用Pre-master secret秘钥加密。
    - `步骤7：`客户端发送Finished报文。该报文包含连接至今报文的整体校验值。这次握手协商是否能够成功，要以服务器是否能够正确解密该报文作为判定标准。
    - `步骤8：`服务器同样发送Change Cipher Spec报文。
    - `步骤9：`服务器同样发送Finished报文。
    - `步骤10：`服务器和客户端的Finished报文交换完毕之后，SSL连接就算建立完成。当然，通信会受到SSL的保护。从此处开始进行应用层协议的通信，即发送HTTP请求。
    - `步骤11：`应用层协议通信，即发送HTTP响应。
    - `步骤12：`最后由客户端断开连接。断开连接，发送close_notify报文。上图做了一些省略，这步之后再发送TCP FIN报文来关闭与TCP的通信。

    `以上流程中，应用层发送数据会附加一种叫做MAC（Message Authentication Code）的报文摘要。MAC能够查知报文是否遭到篡改，从而保护报文的完整性。`

## 认证

- 认证的方式及步骤
    - BASIC认证（基本认证）
        -
    - DIGEST认证（摘要认证）
    - SSL客户端认证
    - FormBase认证（基于表单认证）
